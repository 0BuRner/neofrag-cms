<p>Il y a <?php echo $count = ($users = count($data['users'])) + $data['visitors']; ?> <?php echo $count > 1 ? 'utilisateurs' : 'utilisateur'; ?> sur le forum</p>
<?php echo implode(', ', array_map(function($a) use ($NeoFrag){ return $NeoFrag->user->link($a['user_id'], $a['username']); }, $data['users'])); ?> <?php echo $users ? 'et' : ''; ?> <?php echo $data['visitors'] ?: ($users ? 'a' : 'A').'ucun'; ?> <?php echo $data['visitors'] > 1 ? 'visiteurs' : 'visiteur'; ?>